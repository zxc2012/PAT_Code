"use strict";(self.webpackChunkChance=self.webpackChunkChance||[]).push([[7609],{7012:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=n(7462),l=(n(7294),n(3905));n(1839);const o={},r="2 Javascript",i={unversionedId:"cs/webDevelop/web_2",id:"cs/webDevelop/web_2",title:"2 Javascript",description:"Basic",source:"@site/docs/cs/webDevelop/web_2.md",sourceDirName:"cs/webDevelop",slug:"/cs/webDevelop/web_2",permalink:"/docs/cs/webDevelop/web_2",draft:!1,editUrl:"https://github.com/zxc2012/zxc2012.github.io/tree/master/docs/cs/webDevelop/web_2.md",tags:[],version:"current",frontMatter:{},sidebar:"cs",previous:{title:"1 HTML&CSS",permalink:"/docs/cs/webDevelop/web_1"},next:{title:"3 React",permalink:"/docs/cs/webDevelop/web_3"}},s={},c=[{value:"Basic",id:"basic",level:2},{value:"Primitive types",id:"primitive-types",level:3},{value:"Const,let and var",id:"constlet-and-var",level:4},{value:"Symbol",id:"symbol",level:4},{value:"Operators",id:"operators",level:3},{value:"Prototype Chain",id:"prototype-chain",level:3},{value:"Function",id:"function",level:3},{value:"Properties",id:"properties",level:4},{value:"Methods",id:"methods",level:4},{value:"Object",id:"object",level:2},{value:"Declaration",id:"declaration",level:3},{value:"Array",id:"array",level:3},{value:"Other function",id:"other-function",level:4},{value:"This",id:"this",level:2},{value:"Global Context",id:"global-context",level:3},{value:"Class Context",id:"class-context",level:3},{value:"Inside Object",id:"inside-object",level:3},{value:"Closure",id:"closure",level:2},{value:"DOM",id:"dom",level:2},{value:"Function",id:"function-1",level:3},{value:"Promise",id:"promise",level:2},{value:"\u5b9e\u73b0promise.all",id:"\u5b9e\u73b0promiseall",level:3},{value:"debounce &amp; throttle",id:"debounce--throttle",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"2-javascript"},"2 Javascript"),(0,l.kt)("h2",{id:"basic"},"Basic"),(0,l.kt)("h3",{id:"primitive-types"},"Primitive types"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Boolean (true, false)"),(0,l.kt)("li",{parentName:"ul"},"Number (12, 1.618, -46.7, 0, etc.)"),(0,l.kt)("li",{parentName:"ul"},'String ("hello", "world!", "12", etc.)'),(0,l.kt)("li",{parentName:"ul"},"Null (no value)"),(0,l.kt)("li",{parentName:"ul"},"Undefined (declared but not yet assigned a value)"),(0,l.kt)("li",{parentName:"ul"},"Symbol"),(0,l.kt)("li",{parentName:"ul"},"BigInt")),(0,l.kt)("h4",{id:"constlet-and-var"},"Const,let and var"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"hoist"),(0,l.kt)("th",{parentName:"tr",align:null},"scope"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"var"),(0,l.kt)("td",{parentName:"tr",align:null},"Only declarations are hoisted"),(0,l.kt)("td",{parentName:"tr",align:null},"function scope")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"let const"),(0,l.kt)("td",{parentName:"tr",align:null},"block hoisted,but not initialized with 'undefined'"),(0,l.kt)("td",{parentName:"tr",align:null},"block scope")))),(0,l.kt)("p",null,"TDZ(temporal dead zones): from the start of the block until the initialization has completed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"block:{}")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"/**Example 1:hoist ***/\nx = 1; \nconsole.log(x + \" \" + y); // '1 undefined'\nvar y = 2; // Declare and Initialize y\nconsole.log(num);//Cannot access 'num' before initialization\nlet num=\"fasd\";\n/**Example 2:scope ***/\nfunction varTest() {\n  var x = 1;\n  {\n    var x = 2;  // same variable!\n    console.log(x);  // 2\n  }\n  console.log(x);  // 2\n}\n\nfunction letTest() {\n  let x = 1;\n  {\n    let x = 2;  // different variable\n    console.log(x);  // 2\n  }\n  console.log(x);  // 1\n}\n/**Example3: TDZ**/\nfunction go(n) {\n  // n here is defined!\n  console.log(n); // Object {a: [1,2,3]}\n\n  for (let n of n.a) { // ReferenceError,n.a\u5148\u627eblock\u5185\u7684\u518d\u627efunction\u5185\u7684\n    console.log(n);\n  }\n}\n\ngo({a: [1, 2, 3]});\n")),(0,l.kt)("h4",{id:"symbol"},"Symbol"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Symbol.for(key)"),(0,l.kt)("p",{parentName:"li"},"  Searches for existing Symbols with the given key and returns it if found. Otherwise a new Symbol gets created in the global Symbol registry with key.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Symbol.keyFor(sym)"),(0,l.kt)("p",{parentName:"li"},"  Retrieves a shared Symbol key from the global Symbol registry for the given Symbol."))),(0,l.kt)("h3",{id:"operators"},"Operators"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'"==" forces the arguments to be of the same type before comparing them'),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("em",{parentName:"p"},"use a===b"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"'+'\u89e6\u53d1\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"for...in iterates over all enumerable ",(0,l.kt)("em",{parentName:"p"},"properties")," of an object that are keyed by strings"),(0,l.kt)("p",{parentName:"li"},"for...of creates a loop iterating over ",(0,l.kt)("em",{parentName:"p"},"iterable objects"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Spread syntax (...) allows an iterable such as an array expression or string to be expanded in places where zero or more arguments (for function calls) or elements (for array literals) are expected, or an object expression to be expanded in places where zero or more key-value pairs (for object literals) are expected."))),(0,l.kt)("h3",{id:"prototype-chain"},"Prototype Chain"),(0,l.kt)("p",null,"someObject.[","[Prototype]","] is used to designate the prototype of someObject. "),(0,l.kt)("p",null,"The [","[Prototype]","] internal slot can be accessed with the Object getPrototypeOf() and Object.setPrototypeOf() functions."),(0,l.kt)("p",null,"That prototype object has a prototype of its own, and so on until an object is reached with null as its prototype. By definition, null has no prototype, and acts as the final link in this prototype chain."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const o = {\n  a: 1,\n  b: 2,\n  // __proto__ sets the [[Prototype]]. It's specified here\n  // as another object literal.\n  __proto__: {\n    b: 3,\n    c: 4,\n    __proto__: {\n      d: 5,\n    },\n  },\n};\n// Prototype Chain\n// { a: 1, b: 2 } ---\x3e { b: 3, c: 4 } ---\x3e { d: 5 } ---\x3e Object.prototype ---\x3e null\n\nconsole.log(o.d); // 5\n")),(0,l.kt)("h3",{id:"function"},"Function"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Arrow Function: ",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Does not have its own bindings to this or super, and should not be used as methods."),(0,l.kt)("li",{parentName:"ul"},"Can not be used as constructors.(new)"))),(0,l.kt)("li",{parentName:"ul"},"Traditional Function:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u521b\u5efathis\u548carguments")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"//\u4e00\u4e2a\u53c2\u6570\u65f6()\u53ef\u7701\u7565\n(param1, param2, \u2026, paramN) => { statements }\n(param1, param2, \u2026, paramN) => expression\n//\u76f8\u5f53\u4e8e\uff1a(param1, param2, \u2026, paramN) =>{ return expression; }\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"//\u5e38\u7528\u51fd\u6570\nsetTimeout(handler: TimerHandler, timeout?: number, ...arguments: any[]): number//timeout default:0\n")),(0,l.kt)("h4",{id:"properties"},"Properties"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function doSomething(){}\ndoSomething.prototype.foo = "bar";\nvar doSomeInstancing = new doSomething();\ndoSomeInstancing.prop = "some value";\nconsole.log("doSomeInstancing.prop:      " + doSomeInstancing.prop);//some value\nconsole.log("doSomeInstancing.foo:       " + doSomeInstancing.foo);//bar\nconsole.log("doSomething.prop:           " + doSomething.prop);//undefined\nconsole.log("doSomething.foo:            " + doSomething.foo);//undefined\nconsole.log("doSomething.prototype.prop: " + doSomething.prototype.prop);//undefined\nconsole.log("doSomething.prototype.foo:  " + doSomething.prototype.foo);//bar\n')),(0,l.kt)("h4",{id:"methods"},"Methods"),(0,l.kt)("p",null,"Bind"),(0,l.kt)("p",null,"The bind() method creates a new function that, when called, has its this keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called."),(0,l.kt)("p",null,"Apply and Call"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Function.prototype.call() accepts an argument list"),(0,l.kt)("li",{parentName:"ul"},"Function.prototype.apply() accepts a single array of arguments")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// thisArg: The value to be passed as the this parameter to the target function func when the bound function is called\napply(thisArg, argsArray)// func.apply(this, ['eat', 'bananas'])\ncall(thisArg, arg1, /* \u2026, */ argN)// func.call(this, 'eat', 'bananas')\n")),(0,l.kt)("h2",{id:"object"},"Object"),(0,l.kt)("h3",{id:"declaration"},"Declaration"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let person={\n    name:"ycy",\n    age:29,\n    color:"red"\n};\nlet {name,age}=person;//Object destructuring is a shorthand to obtain multiple properties at once.\n')),(0,l.kt)("h3",{id:"array"},"Array"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let a=[1,2,3];\n//\u6539\u53d8\u6570\u7ec4\n//splice(start, deleteCount, item1, item2, itemN) // \u4e8estart\u5220\u9664deleteCount\u4e2a\u5143\u7d20\u5e76\u5728start\u63d2\u5165\na.splice(1,1,4);//[1,4,3]\n//\u4e0d\u6539\u53d8\u6570\u7ec4\n// concat: flatten array,but not arrays of arrays\na.concat(1,[2,3],[5,[6,7]])//return [1,4,3,1,2,3,5,[6,7]]\na.map(x=>x+3);//return [4,7,6] but not change\na.foreach(value=>sum+=value); // callback return value is discarded\na.filter(x=>x>2);//return [4,3]\na.reduce((x,y)=>x+y);//8, reduceRight() process from right-to-left\n")),(0,l.kt)("h4",{id:"other-function"},"Other function"),(0,l.kt)("table",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Category"),(0,l.kt)("th",null,"Function"),(0,l.kt)("th",null,"Notes")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"find"),(0,l.kt)("td",null,"indexOf(),lastIndexOf()"),(0,l.kt)("td",null,"starts at the beginning/end")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"fill"),(0,l.kt)("td",null,"fill(value: number, start?: number, end?: number)"),(0,l.kt)("td",null,"start default:0,end default:array.length")),(0,l.kt)("tr",null,(0,l.kt)("td",{rowspan:"2"},"stacks & queues"),(0,l.kt)("td",null,"push(),pop()")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"shift(),unshift()"),(0,l.kt)("td",null,"delete index 0,insert index 0"))),(0,l.kt)("h2",{id:"this"},"This"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"this")," is determined by the enclosing lexical context"),(0,l.kt)("h3",{id:"global-context"},"Global Context"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function f1() {\n  return this;\n}\n// In a browser:\nf1() === window; // true\n// In Node:\nf1() === globalThis; // true\n")),(0,l.kt)("h3",{id:"class-context"},"Class Context"),(0,l.kt)("p",null,'Within a class constructor, "this" is a regular object. '),(0,l.kt)("p",null,'All non-static methods within the class are added to the prototype of "this"'),(0,l.kt)("h3",{id:"inside-object"},"Inside Object"),(0,l.kt)("p",null,"Object\u6709\u81ea\u5df1\u7684Execution context,\u4f46\u6ca1\u6709this."),(0,l.kt)("p",null,'When a function is called as a method of an object, "this" is set to the object the method is called on.'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var obj = {\n  bar: function() {\n    var x = (() => this);\n    return x;\n  },\n  doSomethingLater : function (){\n    setTimeout(function(){\n        this.count++;\n        console.log(this);\n    }, 300);\n  }\n};\nvar fn = obj.bar();\nconsole.log(fn() === obj); // true\n// But caution if you reference the method of obj without calling it\nvar fn2 = obj.bar;\n// Calling the arrow function's this from inside the bar method()\n// will now return window, because \u628a\u51fd\u6570\u62c9\u5230\u4e0b\u9762\u53bb\u4e86\nconsole.log(fn2()() == window); // true\nobj.doSomethingLater(); \n//In a browser:window,In Node:Timeout {...}\n")),(0,l.kt)("h2",{id:"closure"},"Closure"),(0,l.kt)("p",null,"A closure is the combination of a function and the lexical environment within which that function was declared, which gives you access to an outer function's scope from an inner function."),(0,l.kt)("p",null,"This environment consists of any local variables that were in-scope at the time the closure was created"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let myObj = {\n    "gender": "man",\n    makeFunc() {\n        const name = this.gender;\n        function displayName() {\n          console.log(name)// "man"\n          console.log(this)// window\n        }\n        return displayName;\n    }\n}\nconst myFunc = myObj.makeFunc();\nmyFunc();\n')),(0,l.kt)("p",null,"In this case, myFunc is a reference to the instance of the function displayName that is created when makeFunc is run. The instance of displayName maintains a reference to its lexical environment, within which the variable name exists."),(0,l.kt)("h2",{id:"dom"},"DOM"),(0,l.kt)("p",null,"Document Object Model: how your browser interprets the HTML \u201ctree\u201d"),(0,l.kt)("h3",{id:"function-1"},"Function"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"HTMLOrForeignElement.blur()// \u4ece\u5f53\u524d\u7126\u70b9\u5143\u7d20\u4e2d\u79fb\u9664\u952e\u76d8\u7126\u70b9\u3002\nHTMLElement.click()// \u5411\u5143\u7d20\u53d1\u9001\u9f20\u6807\u5355\u51fb\u4e8b\u4ef6\u3002\nHTMLOrForeignElement.focus()// \u4f7f\u5143\u7d20\u6210\u4e3a\u5f53\u524d\u952e\u76d8\u7126\u70b9\u3002\nHTMLElement.forceSpellCheck()// \u5bf9\u5143\u7d20\u7684\u5185\u5bb9\u8fd0\u884c\u62fc\u5199\u68c0\u67e5\u7a0b\u5e8f\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Create and add elements on the fly"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const list=document.getElementById("shopping list");\nconst newEL=document.createElement("li");\nnewEl.innerHTML="apples";\nlist.appendChild(newEl));\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Change the contents/style of an element"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const list=document.getElementById("shopping list");\nlist.style.color="red";\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Give elements actions by adding event listeners"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const button=document.getElementById("button");\nbutton.addEventListener("click",()=>{\n    addParagraph("");\n});//common events include load, click, input, mouseover\n')))),(0,l.kt)("h2",{id:"promise"},"Promise"),(0,l.kt)("h3",{id:"\u5b9e\u73b0promiseall"},"\u5b9e\u73b0promise.all"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'/**\n * @param {Array<any>} promises - notice input might have non-Promises\n * @return {Promise<any[]>}\n */\nfunction all(promises) {\n  return new Promise((resolve,reject)=>{\n    if(!Array.isArray(promises))reject(new TypeError("\u53c2\u6570\u9519\u8bef"));\n    let results=[];\n    if(promises.length==0)resolve(promises);\n    promises.forEach(promise=>{\n      Promise.resolve(promise).then(value=>{\n        results.push(value);\n        if(results.length===promises.length)\n          resolve(results);\n      },err=>reject(err));\n    })\n  }\n  )\n}\n')),(0,l.kt)("h2",{id:"debounce--throttle"},"debounce & throttle"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function debounce(func, wait) {\n  let timer=null;\n  return function(...args){\n    if(timer){\n      clearTimeout(timer);\n    }\n    timer=setTimeout(()=>{\n      func.call(this,args);\n    },wait);\n  }\n}\nfunction throttle(func, wait) {\n  let timer=null;\n  let lastargs;\n  return (...args)=>{\n    if(timer)lastargs=args;\n    else{\n      func.call(this,...args);\n      timer=setTimeout(()=>{\n        if(lastargs)func.call(this,lastargs);\n        timer=null;\n      },wait)\n    }\n  } \n}\n")))}u.isMDXComponent=!0}}]);