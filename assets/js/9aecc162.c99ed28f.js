"use strict";(self.webpackChunkChance=self.webpackChunkChance||[]).push([[6718],{8331:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>p,default:()=>o,frontMatter:()=>n,metadata:()=>r,toc:()=>l});var s=t(7462),m=(t(7294),t(3905));t(1839);const n={},p="CS162 Lecture3 --Scheduling",r={unversionedId:"cs/cs162_3",id:"cs/cs162_3",title:"CS162 Lecture3 --Scheduling",description:"Basic",source:"@site/docs/cs/cs162_3.md",sourceDirName:"cs",slug:"/cs/cs162_3",permalink:"/docs/cs/cs162_3",draft:!1,editUrl:"https://github.com/zxc2012/zxc2012.github.io/tree/master/docs/cs/cs162_3.md",tags:[],version:"current",frontMatter:{},sidebar:"cs",previous:{title:"CS162 Lecture2 --Synchronization",permalink:"/docs/cs/cs162_2"},next:{title:"CS186 Lecture1 --Relational Model & SQL",permalink:"/docs/cs/cs186_1"}},i={},l=[{value:"Basic",id:"basic",level:2},{value:"Policies",id:"policies",level:2},{value:"FCFS",id:"fcfs",level:3},{value:"SJF",id:"sjf",level:3},{value:"SRTF",id:"srtf",level:3},{value:"RR",id:"rr",level:3},{value:"MLFQ",id:"mlfq",level:3},{value:"Static Priority Scheduling",id:"static-priority-scheduling",level:4},{value:"Multi-Level Feedback Queue",id:"multi-level-feedback-queue",level:4},{value:"More scheduling policy",id:"more-scheduling-policy",level:2},{value:"Linux O(1)",id:"linux-o1",level:3}],N={toc:l};function o(a){let{components:e,...t}=a;return(0,m.kt)("wrapper",(0,s.Z)({},N,t,{components:e,mdxType:"MDXLayout"}),(0,m.kt)("h1",{id:"cs162-lecture3---scheduling"},"CS162 Lecture3 --Scheduling"),(0,m.kt)("h2",{id:"basic"},"Basic"),(0,m.kt)("p",null,"Design Objectives"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"Response Time: the time from when the job\narrives to the first time it is scheduled(",(0,m.kt)("span",{parentName:"li",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mrow",{parentName:"msub"},(0,m.kt)("mi",{parentName:"mrow"},"f"),(0,m.kt)("mi",{parentName:"mrow"},"i"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"s"),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"u"),(0,m.kt)("mi",{parentName:"mrow"},"n"))),(0,m.kt)("mo",{parentName:"mrow"},"\u2212"),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mrow",{parentName:"msub"},(0,m.kt)("mi",{parentName:"mrow"},"a"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"i"),(0,m.kt)("mi",{parentName:"mrow"},"v"),(0,m.kt)("mi",{parentName:"mrow"},"a"),(0,m.kt)("mi",{parentName:"mrow"},"l")))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_{firstrun}-T_{arrival}")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.10764em"}},"f"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"rs"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"t"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"r"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"u"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"rr"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))))))),")"),(0,m.kt)("li",{parentName:"ul"},"Turnaround time: total time needed to complete a\njob(",(0,m.kt)("span",{parentName:"li",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mrow",{parentName:"msub"},(0,m.kt)("mi",{parentName:"mrow"},"c"),(0,m.kt)("mi",{parentName:"mrow"},"o"),(0,m.kt)("mi",{parentName:"mrow"},"m"),(0,m.kt)("mi",{parentName:"mrow"},"p"),(0,m.kt)("mi",{parentName:"mrow"},"l"),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mi",{parentName:"mrow"},"i"),(0,m.kt)("mi",{parentName:"mrow"},"o"),(0,m.kt)("mi",{parentName:"mrow"},"n"))),(0,m.kt)("mo",{parentName:"mrow"},"\u2212"),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mrow",{parentName:"msub"},(0,m.kt)("mi",{parentName:"mrow"},"a"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"r"),(0,m.kt)("mi",{parentName:"mrow"},"i"),(0,m.kt)("mi",{parentName:"mrow"},"v"),(0,m.kt)("mi",{parentName:"mrow"},"a"),(0,m.kt)("mi",{parentName:"mrow"},"l")))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_{completion}-T_{arrival}")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"co"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"m"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"pl"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"e"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"t"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"o"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"rr"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))))))),")"),(0,m.kt)("li",{parentName:"ul"},"Fairness: give each thread its fair share")),(0,m.kt)("p",null,"Assumptions"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"Each job runs for the same amount of time"),(0,m.kt)("li",{parentName:"ul"},"All jobs arrive at the same time"),(0,m.kt)("li",{parentName:"ul"},"Once started, each job runs to completion"),(0,m.kt)("li",{parentName:"ul"},"All jobs only use the CPU (no I/O)"),(0,m.kt)("li",{parentName:"ul"},"The run-time of each job is known")),(0,m.kt)("h2",{id:"policies"},"Policies"),(0,m.kt)("h3",{id:"fcfs"},"FCFS"),(0,m.kt)("p",null,"First-Come-First-Served"),(0,m.kt)("p",null,(0,m.kt)("strong",{parentName:"p"},"Relax assumption 1: jobs take the same amount of time")),(0,m.kt)("p",null,"Consider ",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mn",{parentName:"msub"},"1"))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_1")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))))))),",",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mn",{parentName:"msub"},"2"))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_2")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"2")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))))))),",",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"T"),(0,m.kt)("mn",{parentName:"msub"},"3"))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_3")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"3")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"}))))))))))," sequence of scheduling"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"Average response time for (1): 17"),(0,m.kt)("li",{parentName:"ul"},"Average response time for (2): 3")),(0,m.kt)("p",null,(0,m.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220531215934.png",alt:"20220531215934"})),(0,m.kt)("p",null,"Problem: Short processes stuck behind long processes"),(0,m.kt)("h3",{id:"sjf"},"SJF"),(0,m.kt)("p",null,"Shortest Job First->We can choose(2)"),(0,m.kt)("p",null,(0,m.kt)("strong",{parentName:"p"},"Relax assumption 2: All jobs arrive at the same time")),(0,m.kt)("h3",{id:"srtf"},"SRTF"),(0,m.kt)("p",null,"Shortest Remaining Time First"),(0,m.kt)("p",null,(0,m.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601202121.png",alt:"20220601202121"})),(0,m.kt)("p",null,(0,m.kt)("strong",{parentName:"p"},"Relax assumption 3: Once started, each job runs to completion")),(0,m.kt)("h3",{id:"rr"},"RR"),(0,m.kt)("p",null,"Round Robin"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},'Give out small units of CPU time ("time quantum")'),(0,m.kt)("li",{parentName:"ul"},"When quantum expires, preempt, and schedule",(0,m.kt)("ul",{parentName:"li"},(0,m.kt)("li",{parentName:"ul"},"Round Robin: add to end of the queue"))),(0,m.kt)("li",{parentName:"ul"},"Each of N processes gets ~1/N of CPU (in window)",(0,m.kt)("ul",{parentName:"li"},(0,m.kt)("li",{parentName:"ul"},"With quantum length Q ms, process waits at most (N-1)*Q ms to run again"))),(0,m.kt)("li",{parentName:"ul"},"Downside: More context switches")),(0,m.kt)("p",null,(0,m.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601210906.png",alt:"20220601210906"})),(0,m.kt)("p",null,(0,m.kt)("strong",{parentName:"p"},"Relax assumption 4: All jobs only use the CPU (no I/O)")),(0,m.kt)("p",null,"with SRTF, we treat each sub-job as an independent one"),(0,m.kt)("p",null,(0,m.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601211540.png",alt:"20220601211540"})),(0,m.kt)("p",null,(0,m.kt)("strong",{parentName:"p"},"Relax assumption 5: The run-time of each job is known")),(0,m.kt)("h3",{id:"mlfq"},"MLFQ"),(0,m.kt)("h4",{id:"static-priority-scheduling"},"Static Priority Scheduling"),(0,m.kt)("p",null,(0,m.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220602211459.png",alt:"20220602211459"})),(0,m.kt)("p",null,"Problem: "),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"Low priority thread might never run"),(0,m.kt)("li",{parentName:"ul"},"Deadlock: A high-priority thread H becomes ready to run when a low-priority thread L is in the critical section, H waits forever->Medium Priority will be chosen")),(0,m.kt)("p",null,(0,m.kt)("em",{parentName:"p"},"DeadLock Solution"),': H temporarily grants L its "high priority" to run on its behalf'),(0,m.kt)("h4",{id:"multi-level-feedback-queue"},"Multi-Level Feedback Queue"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"If Priority(A) > Priority(B), A runs"),(0,m.kt)("li",{parentName:"ul"},"If Priority(A) = Priority(B), A & B run in RR"),(0,m.kt)("li",{parentName:"ul"},"When a job enters, it has the highest priority(MLFQ approximates preemptive SJF)"),(0,m.kt)("li",{parentName:"ul"},"Job Exceeds Quantum: Drop to lower queue(CPU Bound)"),(0,m.kt)("li",{parentName:"ul"},"Job Doesn't Exceed Quantum: Raise to higher queue(I/O Bound)"),(0,m.kt)("li",{parentName:"ul"},"After some time period, move all the jobs in the\nsystem to the topmost queue")),(0,m.kt)("h2",{id:"more-scheduling-policy"},"More scheduling policy"),(0,m.kt)("h3",{id:"linux-o1"},"Linux O(1)"),(0,m.kt)("ul",null,(0,m.kt)("li",{parentName:"ul"},"140 priorities in total, 200 ms (highest priority) to 10 ms time slice"),(0,m.kt)("li",{parentName:"ul"},(0,m.kt)("em",{parentName:"li"},"Active")," and ",(0,m.kt)("em",{parentName:"li"},"expired")," queues at each priority,each element in the queue is a linked list of threads"),(0,m.kt)("li",{parentName:"ul"},"threads in a certain priority: round-robin fashion"),(0,m.kt)("li",{parentName:"ul"},"when a thread\u2019s time slice expires, it is moved to the expired array, with an adjustment to its priority level")),(0,m.kt)("p",null,"O(1): The active and expired priority arrays will be swapped\nwhen there are no threads in the active array"))}o.isMDXComponent=!0}}]);