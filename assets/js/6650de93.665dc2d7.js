"use strict";(self.webpackChunkChance=self.webpackChunkChance||[]).push([[7550],{2054:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>p,default:()=>o,frontMatter:()=>m,metadata:()=>r,toc:()=>l});var s=t(7462),n=(t(7294),t(3905));t(8209);const m={},p="3 Scheduling",r={unversionedId:"cs/Operating_System/OS_3",id:"cs/Operating_System/OS_3",title:"3 Scheduling",description:"Basic",source:"@site/docs/cs/Operating_System/OS_3.md",sourceDirName:"cs/Operating_System",slug:"/cs/Operating_System/OS_3",permalink:"/docs/cs/Operating_System/OS_3",draft:!1,editUrl:"https://github.com/zxc2012/zxc2012.github.io/tree/master/docs/cs/Operating_System/OS_3.md",tags:[],version:"current",frontMatter:{},sidebar:"cs",previous:{title:"2 Synchronization",permalink:"/docs/cs/Operating_System/OS_2"},next:{title:"4 File System",permalink:"/docs/cs/Operating_System/OS_4"}},i={},l=[{value:"Basic",id:"basic",level:2},{value:"Policies",id:"policies",level:2},{value:"FCFS",id:"fcfs",level:3},{value:"SJF",id:"sjf",level:3},{value:"SRTF",id:"srtf",level:3},{value:"RR",id:"rr",level:3},{value:"MLFQ",id:"mlfq",level:3},{value:"Static Priority Scheduling",id:"static-priority-scheduling",level:4},{value:"Multi-Level Feedback Queue",id:"multi-level-feedback-queue",level:4},{value:"More scheduling policy",id:"more-scheduling-policy",level:2},{value:"Linux O(1)",id:"linux-o1",level:3},{value:"Multiprocessor scheduling",id:"multiprocessor-scheduling",level:3}],N={toc:l};function o(a){let{components:e,...t}=a;return(0,n.kt)("wrapper",(0,s.Z)({},N,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"3-scheduling"},"3 Scheduling"),(0,n.kt)("h2",{id:"basic"},"Basic"),(0,n.kt)("p",null,"Design Objectives"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Response Time: the time from when the job\narrives to the first time it is scheduled(",(0,n.kt)("span",{parentName:"li",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("mi",{parentName:"mrow"},"f"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"s"),(0,n.kt)("mi",{parentName:"mrow"},"t"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"u"),(0,n.kt)("mi",{parentName:"mrow"},"n"))),(0,n.kt)("mo",{parentName:"mrow"},"\u2212"),(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("mi",{parentName:"mrow"},"a"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"v"),(0,n.kt)("mi",{parentName:"mrow"},"a"),(0,n.kt)("mi",{parentName:"mrow"},"l")))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_{firstrun}-T_{arrival}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.10764em"}},"f"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"rs"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"t"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"r"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"u"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"rr"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))))))),")"),(0,n.kt)("li",{parentName:"ul"},"Turnaround time: total time needed to complete a\njob(",(0,n.kt)("span",{parentName:"li",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("mi",{parentName:"mrow"},"c"),(0,n.kt)("mi",{parentName:"mrow"},"o"),(0,n.kt)("mi",{parentName:"mrow"},"m"),(0,n.kt)("mi",{parentName:"mrow"},"p"),(0,n.kt)("mi",{parentName:"mrow"},"l"),(0,n.kt)("mi",{parentName:"mrow"},"e"),(0,n.kt)("mi",{parentName:"mrow"},"t"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"o"),(0,n.kt)("mi",{parentName:"mrow"},"n"))),(0,n.kt)("mo",{parentName:"mrow"},"\u2212"),(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("mi",{parentName:"mrow"},"a"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"r"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"v"),(0,n.kt)("mi",{parentName:"mrow"},"a"),(0,n.kt)("mi",{parentName:"mrow"},"l")))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_{completion}-T_{arrival}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"co"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"m"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"pl"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"e"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"t"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"o"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"rr"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))))))),")"),(0,n.kt)("li",{parentName:"ul"},"Fairness: give each thread its fair share")),(0,n.kt)("p",null,"Assumptions"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Each job runs for the same amount of time"),(0,n.kt)("li",{parentName:"ul"},"All jobs arrive at the same time"),(0,n.kt)("li",{parentName:"ul"},"Once started, each job runs to completion"),(0,n.kt)("li",{parentName:"ul"},"All jobs only use the CPU (no I/O)"),(0,n.kt)("li",{parentName:"ul"},"The run-time of each job is known")),(0,n.kt)("h2",{id:"policies"},"Policies"),(0,n.kt)("h3",{id:"fcfs"},"FCFS"),(0,n.kt)("p",null,"First-Come-First-Served"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Relax assumption 1: jobs take the same amount of time")),(0,n.kt)("p",null,"Consider ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mn",{parentName:"msub"},"1"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_1")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))))))),",",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mn",{parentName:"msub"},"2"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_2")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"2")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))))))),",",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"T"),(0,n.kt)("mn",{parentName:"msub"},"3"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T_3")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"3")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"}))))))))))," sequence of scheduling"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Average response time for (1): 17"),(0,n.kt)("li",{parentName:"ul"},"Average response time for (2): 3")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220531215934.png",alt:"20220531215934"})),(0,n.kt)("p",null,"Problem: Short processes stuck behind long processes"),(0,n.kt)("h3",{id:"sjf"},"SJF"),(0,n.kt)("p",null,"Shortest Job First->We can choose(2)"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Relax assumption 2: All jobs arrive at the same time")),(0,n.kt)("h3",{id:"srtf"},"SRTF"),(0,n.kt)("p",null,"Shortest Remaining Time First"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601202121.png",alt:"20220601202121"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Relax assumption 3: Once started, each job runs to completion")),(0,n.kt)("h3",{id:"rr"},"RR"),(0,n.kt)("p",null,"Round Robin"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Give out small units of CPU time ("time quantum")'),(0,n.kt)("li",{parentName:"ul"},"When quantum expires, preempt, and schedule",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Round Robin: add to end of the queue"))),(0,n.kt)("li",{parentName:"ul"},"Each of N processes gets ~1/N of CPU (in window)",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"With quantum length Q ms, process waits at most (N-1)*Q ms to run again"))),(0,n.kt)("li",{parentName:"ul"},"Downside: More context switches")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601210906.png",alt:"20220601210906"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Relax assumption 4: All jobs only use the CPU (no I/O)")),(0,n.kt)("p",null,"with SRTF, we treat each sub-job as an independent one"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220601211540.png",alt:"20220601211540"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Relax assumption 5: The run-time of each job is known")),(0,n.kt)("h3",{id:"mlfq"},"MLFQ"),(0,n.kt)("h4",{id:"static-priority-scheduling"},"Static Priority Scheduling"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20220602211459.png",alt:"20220602211459"})),(0,n.kt)("p",null,"Setting priorities: I/O bound (interactive) jobs need higher\npriorities, and the priorities for CPU bound jobs should be lower."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If Priority(A) > Priority(B), A runs"),(0,n.kt)("li",{parentName:"ul"},"If Priority(A) = Priority(B), A & B run in RR")),(0,n.kt)("p",null,"Problem: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Low priority thread might never run"),(0,n.kt)("li",{parentName:"ul"},"Deadlock: A high-priority thread H becomes ready to run when a low-priority thread L is in the critical section, H waits forever->Medium Priority will be chosen")),(0,n.kt)("p",null,"DeadLock Solution: ",(0,n.kt)("strong",{parentName:"p"},"Priority inheritance")),(0,n.kt)("p",null,"low-priority thread inherits the priority of the high-priority thread when it has the lock"),(0,n.kt)("h4",{id:"multi-level-feedback-queue"},"Multi-Level Feedback Queue"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If Priority(A) > Priority(B), A runs"),(0,n.kt)("li",{parentName:"ul"},"If Priority(A) = Priority(B), A & B run in RR"),(0,n.kt)("li",{parentName:"ul"},"When a job enters, it has the highest priority"),(0,n.kt)("li",{parentName:"ul"},"Job Exceeds Quantum: Drop to lower queue(CPU Bound)"),(0,n.kt)("li",{parentName:"ul"},"Job Doesn't Exceed Quantum: Raise to higher queue(I/O Bound)"),(0,n.kt)("li",{parentName:"ul"},"After some time period, move all the jobs in the system to the topmost queue (CPU-bound jobs may never run)")),(0,n.kt)("h2",{id:"more-scheduling-policy"},"More scheduling policy"),(0,n.kt)("h3",{id:"linux-o1"},"Linux O(1)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"140 priorities in total, 200 ms (highest priority) to 10 ms time slice"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Active")," and ",(0,n.kt)("em",{parentName:"li"},"expired")," queues at each priority,each element in the queue is a linked list of threads"),(0,n.kt)("li",{parentName:"ul"},"threads in a certain priority: round-robin fashion"),(0,n.kt)("li",{parentName:"ul"},"when a thread\u2019s time slice expires, it is moved to the expired array, with an adjustment to its priority level")),(0,n.kt)("p",null,'Static priority set by "nice": initial priority'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"nice values range from -20 to 19 (mapped to 100 to 139 in the runqueue)"),(0,n.kt)("li",{parentName:"ul"},"higher value -> lower priority"),(0,n.kt)("li",{parentName:"ul"},"default priority: 0 (mapped to 120)"),(0,n.kt)("li",{parentName:"ul"},"can be changed via the nice() system call")),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Active")," and ",(0,n.kt)("em",{parentName:"p"},"expired")," separate priority queues:"),(0,n.kt)("p",null,"The active and expired priority arrays will be swapped when there are no threads in the active array"),(0,n.kt)("h3",{id:"multiprocessor-scheduling"},"Multiprocessor scheduling"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Migrating jobs from one CPU to another requires a cost of invalidating and repopulating caches \u2014 so we don\u2019t wish to do this often"),(0,n.kt)("p",{parentName:"li"},"  ",(0,n.kt)("strong",{parentName:"p"},"Cache affinity"),": try to avoid migration of jobs from one CPU to another(right)\n",(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/zxc2012/image/main/20221126203424.png",alt:"20221126203424"}))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"We don\u2019t wish to leave a CPU idle while another CPU is too busy with all its jobs"),(0,n.kt)("p",{parentName:"li"},"  ",(0,n.kt)("strong",{parentName:"p"},"Load balancing"),": try to keep the workload evenly distributed"))))}o.isMDXComponent=!0}}]);